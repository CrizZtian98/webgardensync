<app-header></app-header>
<div class="contenedor">
    <p class="superior">Secci√≥n de comentarios</p>
    <mat-card class="card" *ngIf="publicacion">
        <div>
            <button class="cerrar" (click)="cerrar()">
                <i class="fa-solid fa-chevron-up"></i>
            </button>
            <button class="botonBan" mat-icon-button [matMenuTriggerFor]="menu1">
                <i class="fa-solid fa-ban"></i>
            </button>

            <mat-menu #menu1="matMenu">
                <button mat-menu-item>
                <i class="fa-solid fa-user-slash"></i> Banear usuario
                </button>
                <button mat-menu-item>
                <i class="fa-solid fa-triangle-exclamation"></i> Reportar
                </button>
                <button mat-menu-item>
                <i class="fa-solid fa-trash"></i> Eliminar
                </button>
            </mat-menu>

            <mat-card-header class="card-header" >
                <div mat-card-avatar>
                    <img src="icons/Perfil.png" alt="Avatar" class="avatar"/>
                </div>
                <mat-card-title>{{ publicacion.nombre }}</mat-card-title>
            </mat-card-header>
            <mat-card-content class="contenido">
                <p>{{ publicacion.contenido }}</p>
            </mat-card-content>
        </div>
        <p class="titulo">Comentarios:</p>
        <div *ngIf="cargandoComentarios" class="spinner-container">
            <mat-progress-spinner
                class="spinner-comentarios"
                diameter="30"
                mode="indeterminate"
                color="primary">
            </mat-progress-spinner>
            <p>Cargando comentarios...</p>
        </div>
        <div *ngIf="comentarios.length > 0">
            <mat-card class="card-comentarios" *ngFor="let comentario of comentarios" >
                <div>
                    <button mat-icon-button [matMenuTriggerFor]="menuuu">
                        <i class="fa-solid fa-ban"></i>
                    </button>
                    <mat-menu #menuuu="matMenu">
                        <button mat-menu-item>
                        <i class="fa-solid fa-user-slash"></i> Banear usuario
                        </button>
                        <button mat-menu-item>
                        <i class="fa-solid fa-triangle-exclamation"></i> Reportar
                        </button>
                        <button mat-menu-item>
                        <i class="fa-solid fa-trash"></i> Eliminar
                        </button>
                    </mat-menu>
                    <mat-card-header class="header-comentarios" >
                        <div mat-card-avatar>
                            <img src="icons/Perfil.png" alt="Avatar" class="avatar-comentarios"/>
                        </div>
                        <mat-card-title >{{ comentario.nombre }}</mat-card-title>
                    </mat-card-header>
                    <mat-card-content class="contenido-comentarios">
                            <p>{{ comentario.contenido }}</p>
                    </mat-card-content>
                </div>
            </mat-card>
        </div>
    </mat-card>
</div>
<app-footer class="footer"></app-footer>